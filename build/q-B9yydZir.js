import{l as y,c as w,q as _,B as E,p as I,O as Q,r as S,k as t,i as e,d as g,j as T,R as A,F as m,_hW as x}from"./q-BBXjioMF.js";import{E as R,a as L,A as h,T as b,m as j,C as M}from"./q-4M72jVU9.js";import{_ as u}from"./q-BK4-f5po.js";import{A as O}from"./q-B4iaEQYL.js";import"./q-BB-Lf7es.js";const V=({track:o})=>{const[d,n]=y();return o(()=>{n.criteriaList}),d(n)},q=Object.freeze(Object.defineProperty({__proto__:null,s_zvdVyg0QZIs:V},Symbol.toStringTag,{value:"Module"})),z=async o=>{var n;const d=R.STORE+"list/filtered";try{const i=(await L.post(d,o)).data,l=i.items,r=i.multiItems??[],v=new Set;l.forEach(({id:s})=>v.add(s));const p=r.filter(s=>s.indexLineIds.some(c=>v.has(c))),f=new Set;p.forEach(({indexLineIds:s})=>{s.forEach(c=>f.add(c))});const P=[...l.filter(s=>!f.has(s.id)),...p];return P.sort((s,c)=>c.timestamp-s.timestamp),P}catch(a){if(L.isAxiosError(a))switch((n=a.response)==null?void 0:n.status){case 413:case 400:case 500:throw new h("Invalid search");default:throw new h(a.message)}throw new h(a)}},F=Object.freeze(Object.defineProperty({__proto__:null,_hW:x,s_VbFoPEL9ENA:z},Symbol.toStringTag,{value:"Module"})),C=w(_(()=>u(()=>import("./q-CkzsbxIF.js"),[]),"s_iov0lSPLJrw")),D=w(_(()=>u(()=>import("./q-C2K6tOk7.js"),[]),"s_QIGWB25C5SU")),W=()=>{E();const o=I({criteriaList:[]}),n=Q(_(()=>u(()=>Promise.resolve().then(()=>q),void 0),"s_zvdVyg0QZIs",[_(()=>u(()=>Promise.resolve().then(()=>F),void 0),"s_VbFoPEL9ENA"),o])),a=t(M,{centered:!0,[e]:{centered:e}},3,"PQ_0"),i=S(!1),l=S("");return t(m,{children:[t(b,{text:"Advanced Search",[e]:{text:e}},3,"PQ_1"),g("div",null,{class:"flex flex-1 flex-col"},[t(C,{query:o,[e]:{query:e}},3,"PQ_2"),t(O,{title:"Error",show:i,children:g("p",null,{dangerouslySetInnerHTML:T(r=>r.value,[l])},null,3,null),[e]:{title:e,show:e}},3,"PQ_3"),o.criteriaList.length==0||t(A,{value:n,onPending:()=>a,onResolved:r=>(E(),r==null?t(m,null,3,"PQ_4"):t(D,{data:r,advancedSearchMode:!0,searchId:"advancedSearch",[e]:{advancedSearchMode:e,searchId:e}},3,"PQ_5")),onRejected:r=>(i.value=!0,l.value=j(r.message),t(m,null,3,"PQ_6")),[e]:{value:e,onPending:e,onResolved:e,onRejected:e}},3,"PQ_7")],1,null)]},1,"PQ_8")};export{D as L,W as a,z as s,V as s_zvdVyg0QZIs};
