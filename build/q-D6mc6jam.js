import{l as x,u as L,r as D,o as c,h as O,j as l,i as g,k,q as v,S as E,_hW as h}from"./q-BBXjioMF.js";import{_ as p}from"./q-9FN2Buzd.js";import{S as A}from"./q-C0ot8oiS.js";import{u as P}from"./q-QyEdK_fZ.js";import{u as M,a as R}from"./q-CZw8A_iL.js";const j=async a=>{var r;const[e,d,i,o]=x();if(e.itemsMapSig.value){switch(e.isListboxOpenSig.value||o.typeahead$(a.key),a.key){case"Tab":case"Escape":e.isListboxOpenSig.value=!1;break;case"ArrowDown":case"ArrowUp":e.isListboxOpenSig.value||(e.isListboxOpenSig.value=!0);break;case"ArrowRight":if(!e.multiple){const n=e.highlightedIndexSig.value??-1,s=await i.getNextEnabledItemIndex$(n);await i.selectionManager$(s,"add"),e.highlightedIndexSig.value=s}break;case"ArrowLeft":if(!e.multiple){const n=e.highlightedIndexSig.value??e.itemsMapSig.value.size,s=await i.getPrevEnabledItemIndex$(n);await i.selectionManager$(s,"add"),e.highlightedIndexSig.value=s}break;case"Enter":case" ":e.isListboxOpenSig.value=e.multiple?!0:!e.isListboxOpenSig.value;break}for(e.highlightedIndexSig.value===null&&(a.key==="ArrowUp"?e.highlightedIndexSig.value=await i.getPrevEnabledItemIndex$(e.itemsMapSig.value.size):e.highlightedIndexSig.value=await i.getNextEnabledItemIndex$(-1));e.highlightedItemRef.value!==document.activeElement;)await new Promise(n=>setTimeout(n,5)),(r=e.highlightedItemRef.value)==null||r.focus();d.value&&document.dispatchEvent(new CustomEvent("typeaheadFn",{detail:o.typeahead$}))}},C=Object.freeze(Object.defineProperty({__proto__:null,_hW:h,s_Pw5rxU023WM:j},Symbol.toStringTag,{value:"Module"})),U=()=>{const[a]=x();a.isListboxOpenSig.value=!a.isListboxOpenSig.value},K=Object.freeze(Object.defineProperty({__proto__:null,_hW:h,s_jtQQx0V2cKs:U},Symbol.toStringTag,{value:"Module"})),W=a=>{const e=L(A),d=M(),i=`${e.localId}-label`,o=`${e.localId}-description`,r=`${e.localId}-error-message`,n=`${e.localId}-trigger`,s=`${e.localId}-panel`,b=`${e.localId}-value`,S=D(!0),f=R(),w={context:e,givenContextRef:e.triggerRef},I=P(a.ref,w),m=c(t=>{t.preventDefault()},"e=>{e.preventDefault();}"),_=v(()=>p(()=>Promise.resolve().then(()=>K),void 0),"s_jtQQx0V2cKs",[e]),y=c(t=>{["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp","Enter"," "].includes(t.key)&&t.preventDefault()},'e=>{const keys=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp","Enter"," "];if(keys.includes(e.key)){e.preventDefault();}}'),$=v(()=>p(()=>Promise.resolve().then(()=>C),void 0),"s_Pw5rxU023WM",[e,S,d,f]);return O("button",{...a,id:n,ref:I,get"data-open"(){return e.isListboxOpenSig.value?"":void 0},get"data-closed"(){return e.isListboxOpenSig.value?void 0:""},get"data-disabled"(){return e.isDisabledSig.value?"":void 0},get"data-invalid"(){var t;return(t=e.isInvalidSig)!=null&&t.value?"":void 0},"aria-labelledby":`${b} ${i} `,"aria-describedby":`${o} 
      ${r}`,get"aria-expanded"(){return!!e.isListboxOpenSig.value},"aria-haspopup":"listbox","aria-controls":s,get disabled(){return e.isDisabledSig.value?!0:void 0},"preventdefault:blur":!0,children:k(E,null,3,"li_0"),onClick$:[m,_,a.onClick$],onKeyDown$:[y,$,a.onKeyDown$]},{"data-open":l(t=>t.isListboxOpenSig.value?"":void 0,[e]),"data-closed":l(t=>t.isListboxOpenSig.value?void 0:"",[e]),"data-disabled":l(t=>t.isDisabledSig.value?"":void 0,[e]),"data-invalid":l(t=>{var u;return(u=t.isInvalidSig)!=null&&u.value?"":void 0},[e]),"aria-expanded":l(t=>!!t.isListboxOpenSig.value,[e]),"aria-haspopup":g,disabled:l(t=>t.isDisabledSig.value?!0:void 0,[e]),"preventdefault:blur":g},0,"li_1")};export{h as _hW,W as a,U as s,j as s_Pw5rxU023WM};
