import{E as y,a as I,A as L,T as S,m as b,C as E}from"./q-BgTwgXtn.js";import{l as g,r as _,O as R,N as w,k as r,i as e,d as f,R as x,B as A,F as h,j as O,q as d,_hW as T}from"./q-BBXjioMF.js";import{_ as m}from"./q-CP35H2v1.js";import{A as j}from"./q-iHtqJgvh.js";import{L as P}from"./q-DiJFCYeO.js";import"./q-B_zQWQAU.js";const q=async()=>{const o=y.STORE+"list";try{const n=(await I.get(o)).data,l=n.items,u=n.multiItems??[],i=new Set;l.forEach(({id:s})=>i.add(s));const t=u.filter(s=>s.indexLineIds.some(c=>i.has(c))),p=new Set;t.forEach(({indexLineIds:s})=>{s.forEach(c=>p.add(c))});const v=[...l.filter(s=>!p.has(s.id)),...t];return v.sort((s,c)=>c.timestamp-s.timestamp),v}catch(a){throw new L(a)}},k=Object.freeze(Object.defineProperty({__proto__:null,_hW:T,s_8kHd0t4Kr4U:q},Symbol.toStringTag,{value:"Module"})),M=()=>{const[o]=g();o.value=!0},Y=Object.freeze(Object.defineProperty({__proto__:null,_hW:T,s_aI8LeIpOv9A:M},Symbol.toStringTag,{value:"Module"})),D=({track:o})=>{const[a,n]=g();return o(()=>{a.value}),n()},H=Object.freeze(Object.defineProperty({__proto__:null,s_K2AL36ToWNc:D},Symbol.toStringTag,{value:"Module"})),Q=()=>{const o=_(!1),n=R(d(()=>m(()=>Promise.resolve().then(()=>H),void 0),"s_K2AL36ToWNc",[o,d(()=>m(()=>Promise.resolve().then(()=>k),void 0),"s_8kHd0t4Kr4U")]));w(d(()=>m(()=>Promise.resolve().then(()=>Y),void 0),"s_aI8LeIpOv9A",[o]),{strategy:"document-ready"});const l=r(E,{centered:!0,[e]:{centered:e}},3,"qY_0"),u=_(!1),i=_("");return r(h,{children:[r(S,{text:"Library",[e]:{text:e}},3,"qY_1"),f("div",null,{class:"flex flex-1 flex-col"},[r(x,{value:n,onPending:()=>l,onResolved:t=>(A(),t==null?l:r(P,{data:t,searchId:"library",[e]:{searchId:e}},3,"qY_2")),onRejected:t=>(u.value=!0,i.value=b(t.message),r(h,null,3,"qY_3")),[e]:{value:e,onPending:e,onResolved:e,onRejected:e}},3,"qY_4"),r(j,{title:"Error",show:u,children:f("p",null,{dangerouslySetInnerHTML:O(t=>t.value,[i])},null,3,null),[e]:{title:e,show:e}},3,"qY_5")],1,null)]},1,"qY_6")};export{T as _hW,D as a,Q as b,M as s,q as s_8kHd0t4Kr4U};
