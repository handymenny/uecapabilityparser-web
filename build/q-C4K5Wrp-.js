import{E as b,a as x,A as T,T as I,m as L,C as S}from"./q-C-VGaWyF.js";import{l as g,r as u,O as E,N as R,k as r,i as e,d as f,R as w,B as A,F as h,j as O,q as d,_hW as y}from"./q-BmWDAmC3.js";import{_ as m}from"./q-DoiYi00i.js";import{A as j}from"./q-CRfBMZra.js";import{L as P}from"./q-4n6tvxfo.js";import"./q-CSYod0-J.js";const k=async()=>{const o=b.STORE+"list";try{const n=(await x.get(o)).data,l=n.items,c=n.multiItems??[],i=new Set;l.forEach(({id:s})=>i.add(s));const t=c.filter(s=>s.indexLineIds.some(_=>i.has(_))),p=new Set;t.forEach(({indexLineIds:s})=>{s.forEach(_=>p.add(_))});const v=[...l.filter(s=>!p.has(s.id)),...t];return v.sort((s,_)=>_.timestamp-s.timestamp),v}catch(a){throw new T(a)}},q=Object.freeze(Object.defineProperty({__proto__:null,_hW:y,s_8kHd0t4Kr4U:k},Symbol.toStringTag,{value:"Module"})),M=()=>{const[o]=g();o.value=!0},Y=Object.freeze(Object.defineProperty({__proto__:null,_hW:y,s_aI8LeIpOv9A:M},Symbol.toStringTag,{value:"Module"})),D=({track:o})=>{const[a,n]=g();return o(()=>{a.value}),n()},H=Object.freeze(Object.defineProperty({__proto__:null,s_K2AL36ToWNc:D},Symbol.toStringTag,{value:"Module"})),Q=()=>{const o=u(!1),n=E(d(()=>m(()=>Promise.resolve().then(()=>H),void 0),"s_K2AL36ToWNc",[o,d(()=>m(()=>Promise.resolve().then(()=>q),void 0),"s_8kHd0t4Kr4U")]));R(d(()=>m(()=>Promise.resolve().then(()=>Y),void 0),"s_aI8LeIpOv9A",[o]),{strategy:"document-ready"});const l=r(S,{centered:!0,[e]:{centered:e}},3,"qY_0"),c=u(!1),i=u("");return r(h,{children:[r(I,{text:"Library",[e]:{text:e}},3,"qY_1"),f("div",null,{class:"flex flex-1 flex-col"},[r(w,{value:n,onPending:()=>l,onResolved:t=>(A(),t==null?l:r(P,{data:t,searchId:"library",[e]:{searchId:e}},3,"qY_2")),onRejected:t=>(c.value=!0,i.value=L(t.message),r(h,null,3,"qY_3")),[e]:{value:e,onPending:e,onResolved:e,onRejected:e}},3,"qY_4"),r(j,{title:"Error",show:c,children:f("p",null,{dangerouslySetInnerHTML:O(t=>t.value,[i])},null,3,null),[e]:{title:e,show:e}},3,"qY_5")],1,null)]},1,"qY_6")};export{y as _hW,D as a,Q as b,M as s,k as s_8kHd0t4Kr4U};
