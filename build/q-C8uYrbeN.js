import{u as g,_ as k,v as P,h as m,H as y,L as S,r as b,f as O,i as A,a as L,b as I,c as h,d as $,q as r,S as D,s as R}from"./q-DiiDRB9g.js";import{_ as c}from"./q-C7i0xNVT.js";import{S as T,s as M}from"./q-cnYlTvu_.js";import{u as C}from"./q-nhZPgOjc.js";const V=t=>{const[e]=g();e.value=t.detail},H=()=>{const[t,e]=g(),i=e._index??null;return!e.disabled&&t.selectedIndexSetSig.value.has(i)},K=()=>{var a;const[t,e,i]=g();if(!i.disabled)return t.highlightedIndexSig.value===i._index?((a=e.value)==null||a.focus(),!0):!1},Q=async function(){const[e,i]=g();if(i._index===void 0)throw Error("Qwik UI: Select component item cannot find its proper index.");e.value=i._index},N=async function({track:e,cleanup:i}){const[a,s,o,v]=g();e(()=>a.highlightedIndexSig.value),v.value===a.highlightedIndexSig.value&&(a.highlightedItemRef=o);let n;const d=_=>{var f;const[x]=_;s.value&&!x.isIntersecting&&((f=o.value)==null||f.scrollIntoView(a.scrollOptions))};i(()=>n==null?void 0:n.disconnect()),n=new IntersectionObserver(d,{root:a.listboxRef.value,threshold:1}),o.value&&n.observe(o.value)},U=async()=>{var s;const[t,e,i,a]=g();i.disabled||e.value===null||(t.multiple?(await a.selectionManager$(e.value,"toggle"),(s=t.triggerRef.value)==null||s.focus()):(await a.selectionManager$(e.value,"add"),t.isListboxOpenSig.value=!1))},F=()=>{const[t,e,i]=g();i.disabled||e.value!==null&&(t.highlightedIndexSig.value=e.value)},W=async t=>{var s,o,v;const[e,i,a]=g();switch((s=a.value)==null||s.call(a,t.key),t.key){case"ArrowDown":e.isListboxOpenSig.value&&(e.highlightedIndexSig.value=await i.getNextEnabledItemIndex$(e.highlightedIndexSig.value),e.multiple&&t.shiftKey&&await i.selectionManager$(e.highlightedIndexSig.value,"toggle"));break;case"ArrowUp":e.isListboxOpenSig.value&&(e.highlightedIndexSig.value=await i.getPrevEnabledItemIndex$(e.highlightedIndexSig.value),e.multiple&&t.shiftKey&&await i.selectionManager$(e.highlightedIndexSig.value,"toggle"));break;case"Home":e.isListboxOpenSig.value&&(e.highlightedIndexSig.value=await i.getNextEnabledItemIndex$(-1));break;case"End":if(e.isListboxOpenSig.value){const n=await i.getPrevEnabledItemIndex$(e.itemsMapSig.value.size);e.highlightedIndexSig.value=n}break;case"Escape":(o=e.triggerRef.value)==null||o.focus(),e.isListboxOpenSig.value=!1;break;case"Tab":e.isListboxOpenSig.value=!1;break;case"Enter":case" ":if(e.isListboxOpenSig.value){const n=e.multiple?"toggle":"add";await i.selectionManager$(e.highlightedIndexSig.value,n),e.multiple||(v=e.triggerRef.value)==null||v.focus()}e.isListboxOpenSig.value=e.multiple?!0:!e.isListboxOpenSig.value;break;case"a":if(t.ctrlKey&&e.multiple)for(const[n,d]of e.itemsMapSig.value)d.disabled||await i.selectionManager$(n,"add");break}},j=t=>{const e=k(t,["_index","disabled"]),i=P(T),a=m(),s=m(null),o=`${i.localId}-${t._index}`,v=m(),n=C();y("typeaheadFn",r(()=>c(()=>Promise.resolve().then(()=>u),void 0),"s_z2FTDeQIky4",[v]));const d=S(r(()=>c(()=>Promise.resolve().then(()=>u),void 0),"s_5CWVyNZHSCM",[i,t])),_=S(r(()=>c(()=>Promise.resolve().then(()=>u),void 0),"s_A0GwsK26utA",[i,a,t]));b(r(()=>c(()=>Promise.resolve().then(()=>u),void 0),"s_KPo8EN4Xm18",[s,t])),b(r(()=>c(()=>Promise.resolve().then(()=>u),void 0),"s_c6wRSWFNgkE",[i,_,a,s]));const x=r(()=>c(()=>Promise.resolve().then(()=>u),void 0),"s_fMngtmsh0xE",[i,s,t,n]),f=r(()=>c(()=>Promise.resolve().then(()=>u),void 0),"s_r0bmk2oGrHQ",[i,s,t]),w={isSelectedSig:d},E=O(l=>{["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp","Enter"," "].includes(l.key)&&l.preventDefault()},'e=>{const keys=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp","Enter"," "];if(keys.includes(e.key)){e.preventDefault();}}'),p=r(()=>c(()=>Promise.resolve().then(()=>u),void 0),"s_hfP0cI86wk8",[i,n,v]);return A(M,w),L("li",{...e,id:o,ref:a,tabIndex:-1,get"aria-selected"(){return d.value},get"aria-disabled"(){return t.disabled===!0?"true":"false"},get"data-selected"(){return d.value?"":void 0},get"data-highlighted"(){return _.value?"":void 0},get"data-disabled"(){return t.disabled?"":void 0},"data-item":!0,role:"option",children:$(D,null,3,"Qm_0"),onClick$:[x,t.onClick$],onKeyDown$:[E,p,t.onKeyDown$],onPointerOver$:[f,t.onPointerOver$]},{tabIndex:I,"aria-selected":h(l=>l.value,[d],"p0.value"),"aria-disabled":h(l=>l.disabled===!0?"true":"false",[t],'p0.disabled===true?"true":"false"'),"data-selected":h(l=>l.value?"":void 0,[d],'p0.value?"":undefined'),"data-highlighted":h(l=>l.value?"":void 0,[_],'p0.value?"":undefined'),"data-disabled":h(l=>l.disabled?"":void 0,[t],'p0.disabled?"":undefined'),"data-item":I,role:I},0,"Qm_1")},u=Object.freeze(Object.defineProperty({__proto__:null,_hW:R,s_5CWVyNZHSCM:H,s_A0GwsK26utA:K,s_KPo8EN4Xm18:Q,s_c6wRSWFNgkE:N,s_fMngtmsh0xE:U,s_hfP0cI86wk8:W,s_ipc1ETqliBY:j,s_r0bmk2oGrHQ:F,s_z2FTDeQIky4:V},Symbol.toStringTag,{value:"Module"}));export{R as _hW,H as s_5CWVyNZHSCM,K as s_A0GwsK26utA,Q as s_KPo8EN4Xm18,N as s_c6wRSWFNgkE,U as s_fMngtmsh0xE,W as s_hfP0cI86wk8,j as s_ipc1ETqliBY,F as s_r0bmk2oGrHQ,V as s_z2FTDeQIky4};
