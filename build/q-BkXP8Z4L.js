import{l as v,u as x,g as S,r as O,x as m,k as b,S as h,i as l,j as n,q as a,_hW as _}from"./q-BmWDAmC3.js";import{_ as u}from"./q-1dnJZ1Td.js";import{u as P,H as L,a as R}from"./q-rXFhK1m4.js";import{S as I}from"./q-Dg_aY5Bf.js";import{u as j}from"./q-B97P3fmz.js";const E=({track:t,cleanup:e})=>{const[i,s]=v();t(()=>i.isListboxOpenSig.value),i.isListboxOpenSig.value&&window.addEventListener("pointerdown",s),e(()=>{window.removeEventListener("pointerdown",s)})},w=Object.freeze(Object.defineProperty({__proto__:null,_hW:_,s_Y6i8x4hFXgU:E},Symbol.toStringTag,{value:"Module"})),k=(t,e,i)=>e<t.left||e>t.right||i<t.top||i>t.bottom,y=Object.freeze(Object.defineProperty({__proto__:null,_hW:_,s_fUlvegrRCgo:k},Symbol.toStringTag,{value:"Module"})),T=async t=>{const[e,i]=v();if(!e.isListboxOpenSig.value||!e.popoverRef.value||!e.triggerRef.value)return;const s=e.popoverRef.value.getBoundingClientRect(),g=e.triggerRef.value.getBoundingClientRect(),{clientX:d,clientY:r}=t,p=await i(s,d,r),f=await i(g,d,r);p&&f&&(e.isListboxOpenSig.value=!1)},q=Object.freeze(Object.defineProperty({__proto__:null,_hW:_,s_EIm0Ofzn40Q:T},Symbol.toStringTag,{value:"Module"})),F=t=>{const e=x(I),i=P(e.localId),s={context:e,givenContextRef:e.popoverRef},g=j(t.ref,s),d=S(t,["floating","flip","hover","gutter"]),r=O(!0);m(a(()=>u(()=>Promise.resolve().then(()=>D),void 0),"s_beQA2SXk0uE",[e,r,i]));const p=`${e.localId}-panel`,f=`${e.localId}-trigger`;return m(a(()=>u(()=>Promise.resolve().then(()=>w),void 0),"s_Y6i8x4hFXgU",[e,a(()=>u(()=>Promise.resolve().then(()=>q),void 0),"s_EIm0Ofzn40Q",[e,a(()=>u(()=>Promise.resolve().then(()=>y),void 0),"s_fUlvegrRCgo")])])),m(a(()=>u(()=>Promise.resolve().then(()=>C),void 0),"s_vW6tUXZm35o",[r])),b(R,{get floating(){return t.floating},get flip(){return t.flip},get hover(){return t.hover},get gutter(){return t.gutter},get"bind:anchor"(){return t["bind:anchor"]??e.triggerRef},"bind:panel":g,manual:!0,get id(){return e.localId},children:b(L,{id:p,get"data-open"(){return e.isListboxOpenSig.value?"":void 0},get"data-closed"(){return e.isListboxOpenSig.value?void 0:""},get"data-invalid"(){var o;return(o=e.isInvalidSig)!=null&&o.value?"":void 0},role:"listbox",get"aria-expanded"(){return e.isListboxOpenSig.value?"true":void 0},get"aria-multiselectable"(){return e.multiple?"true":void 0},"aria-labelledby":f,...d,children:b(h,null,3,"VP_0"),[l]:{"data-open":n(o=>o.isListboxOpenSig.value?"":void 0,[e]),"data-closed":n(o=>o.isListboxOpenSig.value?void 0:"",[e]),"data-invalid":n(o=>{var c;return(c=o.isInvalidSig)!=null&&c.value?"":void 0},[e]),role:l,"aria-expanded":n(o=>o.isListboxOpenSig.value?"true":void 0,[e]),"aria-multiselectable":n(o=>o.multiple?"true":void 0,[e])}},0,"VP_1"),[l]:{floating:n(o=>o.floating,[t]),flip:n(o=>o.flip,[t]),hover:n(o=>o.hover,[t]),gutter:n(o=>o.gutter,[t]),"bind:anchor":n((o,c)=>c["bind:anchor"]??o.triggerRef,[e,t]),"bind:panel":l,manual:l,id:n(o=>o.localId,[e])}},1,"VP_2")},z=()=>{const[t]=v();t.value=!1},C=Object.freeze(Object.defineProperty({__proto__:null,_hW:_,s_vW6tUXZm35o:z},Symbol.toStringTag,{value:"Module"})),A=async({track:t})=>{const[e,i,s]=v();t(()=>e.isListboxOpenSig.value),i.value||(e.isListboxOpenSig.value?s.showPopover():s.hidePopover())},D=Object.freeze(Object.defineProperty({__proto__:null,_hW:_,s_beQA2SXk0uE:A},Symbol.toStringTag,{value:"Module"}));export{_ as _hW,T as a,F as b,z as c,A as d,k as s,E as s_Y6i8x4hFXgU};
