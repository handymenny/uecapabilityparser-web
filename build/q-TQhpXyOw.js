import{l as L,c as W,q as M,B as Z,r as C,L as Q,N as ee,J as re,d as O,k as A,i as y,j as te,K as ae,_hW as P}from"./q-BmWDAmC3.js";import{_ as E}from"./q-dn_jjocw.js";import{p as ne}from"./q-CQQPMLAa.js";const se=e=>{const[u,s,v]=L(),f=e.scrollingElement;if(f==null)return!1;const c={scrollHeigth:f.scrollHeight,clientHeigth:f.clientHeight,clientWidth:f.clientWidth};return c==v.value?!1:(f.clientHeight+f.scrollTop)/f.scrollHeight>.85&&u.value<s.data.length?(v.value=c,u.value=Math.min(s.data.length,u.value+60),!0):!1},le=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_BBjAj0b80xY:se},Symbol.toStringTag,{value:"Module"})),ue=W(M(()=>E(()=>import("./q-BIg37uQV.js"),[]),"s_TqsP02xA87c")),B=W(M(()=>E(()=>import("./q--ZlGrgMx.js").then(e=>e.c),[]),"s_0sxvg6KsuAM")),ie=W(M(()=>E(()=>import("./q-Cehp8xv9.js").then(e=>e.a),[]),"s_2AXMoH1V6Yw")),Me=e=>{var m;Z();const u=h=>`${h.indexLineIds!=null?"/view/multi/":"/view/"}?id=${h.id}`,s=C(e.data),v=C(Math.min(e.data.length,60)),f=C(),c=M(()=>E(()=>Promise.resolve().then(()=>le),void 0),"s_BBjAj0b80xY",[v,e,f]);return Q("scroll",M(()=>E(()=>Promise.resolve().then(()=>ce),void 0),"s_G0EsNJzVsFA",[c])),ee(M(()=>E(()=>Promise.resolve().then(()=>be),void 0),"s_001hMYRL094",[c])),re("resize",M(()=>E(()=>Promise.resolve().then(()=>de),void 0),"s_JMryJ4EnQrU",[c])),O("div",null,{class:"mx-auto w-full max-w-7xl"},[O("div",null,{class:"flex flex-wrap-reverse gap-x-4 sm:flex-nowrap"},[e.advancedSearchMode==!0||O("div",null,{class:"w-full sm:w-auto"},A(ue,{href:"/library/advancedsearch/",label:"Advanced Search",[y]:{href:y,label:y}},3,"TI_0"),1,"TI_1"),A(ie,{placeholder:"Search logs",hidden:!1,disabled:!1,get fuzzy(){return{id:e.searchId,keys:["description","timestamp"],data:e.data}},onKeyUp$:M(()=>E(()=>Promise.resolve().then(()=>ye),void 0),"s_0q8WcCg7o84",[s,e]),[y]:{placeholder:y,hidden:y,disabled:y,fuzzy:te(h=>({id:h.searchId,keys:["description","timestamp"],data:h.data}),[e]),onKeyUp$:y}},3,"TI_2")],1,null),O("div",null,{class:"grid grid-cols-2 gap-x-5 gap-y-3 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},[e.advancedSearchMode==!0||A(B,{label:"Add New",url:"/parser",Icon:ne,inverted:!0,[y]:{label:y,url:y,Icon:y,inverted:y}},3,"TI_3"),(m=s.value.slice(0,v.value))==null?void 0:m.map(h=>A(B,{get multilineLabel(){return h.description},label:new Date(h.timestamp).toLocaleString().replace(", "," "),url:u(h),[y]:{multilineLabel:ae(h,"description")}},3,h.id))],1,null)],1,"TI_4")},oe=e=>{const[u]=L(),s=e.target;u(s)},ce=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_G0EsNJzVsFA:oe},Symbol.toStringTag,{value:"Module"})),H=e=>new Promise(u=>{setTimeout(u,e)}),_e=async()=>{const[e]=L();for(;await e(document);)await H(200)},de=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_JMryJ4EnQrU:_e},Symbol.toStringTag,{value:"Module"}));function ve(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var J={},k={};(function(e){e.__esModule=!0,e.default=f;var u=/[\u0300-\u036f]/g,s=/ł/g,v=/ñ/g;function f(c){return c.toLowerCase().normalize("NFD").replace(u,"").replace(s,"l").replace(v,"n").trim()}})(k);var w={},V;function N(){if(V)return w;V=1,w.__esModule=!0,w.aggressiveFuzzyMatch=j,w.createFuzzySearchImpl=G,w.experimentalSmartFuzzyMatch=D,w.fuzzyMatchImpl=U;var e=u(k);function u(t){return t&&t.__esModule?t:{default:t}}var s=Number.MAX_SAFE_INTEGER,v=function(r,o){return r.score-o.score},f=function(r,o){return r[0]-o[0]},c=new Set(`  []()-–—'"“”`.split(""));function m(t){return c.has(t)}function h(t,r,o,g,a,_,l){if(t===g)return[0,[[0,t.length-1]]];var n=g.length,i=r.length,d=a.length;if(r===a)return[.1,[[0,i-1]]];if(r.startsWith(a))return[.5,[[0,d-1]]];var b=t.indexOf(g);if(b>-1&&m(t[b-1]))return[.9,[[b,b+n-1]]];var p=r.indexOf(a);if(p>-1&&m(r[p-1]))return[1,[[p,p+n-1]]];var S=_.length;if(S>1&&_.every(function(x){return o.has(x)})){var T=1.5+S*.2;return[T,_.map(function(x){var z=r.indexOf(x);return[z,z+x.length-1]}).sort(f)]}return p>-1?[2,[[p,p+n-1]]]:l==="aggressive"?j(r,a):l==="smart"?D(r,a):null}function j(t,r){for(var o=t.length,g=r.length,a=0,_=r[a],l=[],n=-1,i=-2,d=0;d<o;d+=1)if(t[d]===_){if(d!==i+1&&(n>=0&&l.push([n,i]),n=d),i=d,a+=1,a===g)return l.push([n,i]),q(l,t);_=r[a]}return null}function D(t,r){for(var o=t.length,g=[],a=0,_=r[a],l=-1,n=-2;;){var i=t.indexOf(_,n+1);if(i===-1)break;if(i===0||m(t[i-1]))l=i;else{var d=r.length-a,b=t.length-i,p=Math.min(3,d,b),S=r.slice(a,a+p);if(t.slice(i,i+p)===S)l=i;else{n+=1;continue}}for(n=l;n<o&&t[n]===_;n+=1)a+=1,_=r[a];if(n-=1,g.push([l,n]),a===r.length)return q(g,t)}return null}function q(t,r){var o=2;return t.forEach(function(g){var a=g[0],_=g[1],l=_-a+1,n=a===0||r[a]===" "||r[a-1]===" ",i=_===r.length-1||r[_]===" "||r[_+1]===" ",d=n&&i;d?o+=.2:n?o+=.4:l>=3?o+=.8:o+=1.6}),[o,t]}function U(t,r){var o=(0,e.default)(r),g=o.split(" "),a=(0,e.default)(t),_=new Set(a.split(" ")),l=h(t,a,_,r,o,g,"smart");return l?{item:t,score:l[0],matches:[l[1]]}:null}function G(t,r){var o=r.strategy,g=o===void 0?"aggressive":o,a=r.getText,_=t.map(function(l){var n;if(a)n=a(l);else{var i=r.key?l[r.key]:l;n=[i]}var d=n.map(function(b){var p=b||"",S=(0,e.default)(p),T=new Set(S.split(" "));return[p,S,T]});return[l,d]});return function(l){var n=[],i=(0,e.default)(l),d=i.split(" ");return i.length?(_.forEach(function(b){for(var p=b[0],S=b[1],T=s,x=[],z=0,Y=S.length;z<Y;z+=1){var F=S[z],K=F[0],X=F[1],$=F[2],R=h(K,X,$,l,i,d,g);R?(T=Math.min(T,R[0]),x.push(R[1])):x.push(null)}T<s&&n.push({item:p,score:T,matches:x})}),n.sort(v),n):[]}}return w}(function(e){e.__esModule=!0,e.default=v,e.fuzzyMatch=f;var u=s(k);e.normalizeText=u.default;function s(c){return c&&c.__esModule?c:{default:c}}function v(c,m){return m===void 0&&(m={}),N().createFuzzySearchImpl(c,m)}function f(c,m){return N().fuzzyMatchImpl(c,m)}})(J);const fe=ve(J),I={},he=(e,u)=>u.map(s=>s!="timestamp"?e[s]:new Date(e.timestamp).toLocaleString().replace(", "," ")),Ee=(e,u,s)=>{I[e]=fe(s,{getText:v=>he(v,u)})},ge=(e,u)=>{var s;return((s=I[e])==null?void 0:s.call(I,u).map(v=>v.item))??[]},pe=async e=>{const[u,s]=L();e.trim().length==0?u.value=s.data:u.value=ge(s.searchId,e)??s.data},ye=Object.freeze(Object.defineProperty({__proto__:null,s_0q8WcCg7o84:pe},Symbol.toStringTag,{value:"Module"})),me=async()=>{const[e]=L();for(localStorage.setItem("disable_advanced_search","henrik-custom-js-1");await e(document);)await H(200)},be=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_001hMYRL094:me},Symbol.toStringTag,{value:"Module"}));export{P as _hW,oe as a,_e as b,pe as c,me as d,Ee as i,Me as s,se as s_BBjAj0b80xY};
