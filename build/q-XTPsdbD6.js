import{l as _,u as x,g as S,r as O,x as p,k as m,S as h,i as a,j as n,q as l,_hW as d}from"./q-BBXjioMF.js";import{_ as u}from"./q-xfJYS_Yr.js";import{u as P,H as L,a as R}from"./q-DnIVmR0T.js";import{S as I}from"./q-C-GYqZyL.js";import{u as E}from"./q-Df8G91kY.js";const y=({track:t,cleanup:e})=>{const[i,s]=_();t(()=>i.isListboxOpenSig.value),i.isListboxOpenSig.value&&window.addEventListener("pointerdown",s),e(()=>{window.removeEventListener("pointerdown",s)})},j=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_Y6i8x4hFXgU:y},Symbol.toStringTag,{value:"Module"})),T=(t,e,i)=>e<t.left||e>t.right||i<t.top||i>t.bottom,w=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_fUlvegrRCgo:T},Symbol.toStringTag,{value:"Module"})),z=async t=>{const[e,i]=_();if(!e.isListboxOpenSig.value||!e.popoverRef.value||!e.triggerRef.value)return;const s=e.popoverRef.value.getBoundingClientRect(),c=e.triggerRef.value.getBoundingClientRect(),{clientX:g,clientY:r}=t,f=await i(s,g,r),b=await i(c,g,r);f&&b&&(e.isListboxOpenSig.value=!1)},C=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_EIm0Ofzn40Q:z},Symbol.toStringTag,{value:"Module"})),F=t=>{const e=x(I),i=P(e.localId),s={context:e,givenContextRef:e.popoverRef},c=E(t.ref,s),g=S(t,["floating","flip","hover","gutter"]),r=O(!0);p(l(()=>u(()=>Promise.resolve().then(()=>M),void 0),"s_beQA2SXk0uE",[e,r,i]));const f=`${e.localId}-panel`,b=`${e.localId}-trigger`;return p(l(()=>u(()=>Promise.resolve().then(()=>j),void 0),"s_Y6i8x4hFXgU",[e,l(()=>u(()=>Promise.resolve().then(()=>C),void 0),"s_EIm0Ofzn40Q",[e,l(()=>u(()=>Promise.resolve().then(()=>w),void 0),"s_fUlvegrRCgo")])])),p(l(()=>u(()=>Promise.resolve().then(()=>D),void 0),"s_vW6tUXZm35o",[r])),m(R,{get floating(){return t.floating},get flip(){return t.flip},get hover(){return t.hover},get gutter(){return t.gutter},get"bind:anchor"(){return t["bind:anchor"]??e.triggerRef},"bind:panel":c,manual:!0,get id(){return e.localId},children:m(L,{id:f,get"data-open"(){return e.isListboxOpenSig.value?"":void 0},get"data-closed"(){return e.isListboxOpenSig.value?void 0:""},get"data-invalid"(){var o;return(o=e.isInvalidSig)!=null&&o.value?"":void 0},role:"listbox",get"aria-expanded"(){return e.isListboxOpenSig.value?"true":void 0},get"aria-multiselectable"(){return e.multiple?"true":void 0},"aria-labelledby":b,...g,children:m(h,null,3,"VP_0"),[a]:{"data-open":n(o=>o.isListboxOpenSig.value?"":void 0,[e]),"data-closed":n(o=>o.isListboxOpenSig.value?void 0:"",[e]),"data-invalid":n(o=>{var v;return(v=o.isInvalidSig)!=null&&v.value?"":void 0},[e]),role:a,"aria-expanded":n(o=>o.isListboxOpenSig.value?"true":void 0,[e]),"aria-multiselectable":n(o=>o.multiple?"true":void 0,[e])}},0,"VP_1"),[a]:{floating:n(o=>o.floating,[t]),flip:n(o=>o.flip,[t]),hover:n(o=>o.hover,[t]),gutter:n(o=>o.gutter,[t]),"bind:anchor":n((o,v)=>v["bind:anchor"]??o.triggerRef,[e,t]),"bind:panel":a,manual:a,id:n(o=>o.localId,[e])}},1,"VP_2")},A=()=>{const[t]=_();t.value=!1},D=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_vW6tUXZm35o:A},Symbol.toStringTag,{value:"Module"})),V=async({track:t})=>{const[e,i,s]=_();t(()=>e.isListboxOpenSig.value),i.value||(e.isListboxOpenSig.value?s.showPopover():s.hidePopover())},M=Object.freeze(Object.defineProperty({__proto__:null,_hW:d,s_beQA2SXk0uE:V},Symbol.toStringTag,{value:"Module"}));export{d as _hW,z as a,F as b,A as c,V as d,T as s,y as s_Y6i8x4hFXgU};
