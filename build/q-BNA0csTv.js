import{u as g,_ as $,h as l,K as M,L as V,i as j,r as b,a as U,b as D,c as T,E as q,d as W,q as d,S as X,s as k}from"./q-DiiDRB9g.js";import{_}from"./q-C7i0xNVT.js";import{S as J}from"./q-cnYlTvu_.js";import{u as N}from"./q-nhZPgOjc.js";const Q=()=>{const[e]=g();return e._itemsMap},z=async function({track:a}){var p;const[s,t,i,n,S]=g(),o=n["bind:value"];if(o){a(()=>o.value);for(const[u,r]of i.value)(p=o.value)!=null&&p.includes(r.value)?(await S.selectionManager$(u,"add"),t.value&&(s.highlightedIndexSig.value=u)):await S.selectionManager$(u,"remove")}},B=function({track:a}){const[s,t]=g(),i=t["bind:open"];i&&(a(()=>i.value),s.value=i.value??s.value)},H=function({track:a}){var n;const[s,t,i]=g();a(()=>t.value),s.value||(n=i.onOpenChange$)==null||n.call(i,t.value)},K=()=>{const[e,a,s]=g();return a.value?s.getActiveDescendant$(e.value??-1):""},F=async function({track:a}){const[s,t,i]=g(),n=t["bind:value"],S=t["bind:displayValue"];a(()=>i.value);const o=[],p=[];for(const u of s.selectedIndexSetSig.value){const r=s.itemsMapSig.value.get(u);r&&(o.push(r.value),p.push(r.displayValue))}if(t.onChange$&&i.value.size>0&&await t.onChange$(s.multiple?o:o[0]),n&&n.value){const u=JSON.stringify(n.value),r=JSON.stringify(o);u!==r&&(s.multiple?n.value=o:n.value=o[0])}s.currDisplayValueSig.value=p,S&&s.currDisplayValueSig.value&&(S.value=s.multiple?s.currDisplayValueSig.value:s.currDisplayValueSig.value[0])},Y=()=>{const[e]=g();e.value=!1},Z=({track:e})=>{const[a,s]=g();a.value=e(()=>s.disabled??!1)},G=e=>{const a=$(e,["_itemsMap","_valuePropIndex","onChange$","onOpenChange$","scrollOptions","loop","multiple","_label","name","required","disabled"]),s=l(),t=l(),i=l(),n=l(),S=l(),o=l(),p=e.loop??!1,u=M(),r=`${u}-listbox`,R=`${u}-label`,y=`${u}-value`,I=V(d(()=>_(()=>Promise.resolve().then(()=>v),void 0),"s_2X0diTXbsPE",[e])),O=l(new Set(e._valuePropIndex?[e._valuePropIndex]:[])),P=l(e._valuePropIndex??null),f=l(!1),A=e.scrollOptions??{behavior:"instant",block:"nearest"},w=l(),x=l(!0),C=l(),m=l(e.disabled??!1),c={itemsMapSig:I,currDisplayValueSig:w,triggerRef:t,popoverRef:i,listboxRef:n,labelRef:S,groupRef:o,highlightedItemRef:C,localId:u,highlightedIndexSig:P,selectedIndexSetSig:O,isListboxOpenSig:f,scrollOptions:A,loop:p,multiple:e.multiple??!1,name:e.name,required:e.required,isDisabledSig:m};j(J,c);const E=N();b(d(()=>_(()=>Promise.resolve().then(()=>v),void 0),"s_QsaeP7UVjnE",[c,x,I,e,E])),b(d(()=>_(()=>Promise.resolve().then(()=>v),void 0),"s_HWs4E0uYeZo",[f,e])),b(d(()=>_(()=>Promise.resolve().then(()=>v),void 0),"s_1ws2gcc2ioI",[x,f,e]));const L=V(d(()=>_(()=>Promise.resolve().then(()=>v),void 0),"s_9D5RnVTo09I",[P,f,E]));return b(d(()=>_(()=>Promise.resolve().then(()=>v),void 0),"s_oi0FeO0wKsA",[c,e,O])),b(d(()=>_(()=>Promise.resolve().then(()=>v),void 0),"s_DITJNnWnLlE",[x])),b(d(()=>_(()=>Promise.resolve().then(()=>v),void 0),"s_jea8b359OrE",[m,e])),U("div",{role:"combobox",ref:s,"data-open":c.isListboxOpenSig.value?"":void 0,"data-closed":c.isListboxOpenSig.value?void 0:"",get"data-disabled"(){return m.value?"":void 0},"aria-controls":r,get"aria-expanded"(){return c.isListboxOpenSig.value},"aria-expanded":q(c.isListboxOpenSig,"value"),"aria-haspopup":"listbox",get"aria-activedescendant"(){return L.value},"aria-labelledby":e._label?R:y,"aria-multiselectable":c.multiple?"true":void 0,...a,children:W(X,null,3,"Bs_0")},{role:D,"data-disabled":T(h=>h.value?"":void 0,[m],'p0.value?"":undefined'),"aria-haspopup":D,"aria-activedescendant":T(h=>h.value,[L],"p0.value")},0,"Bs_1")},v=Object.freeze(Object.defineProperty({__proto__:null,_hW:k,s_1ws2gcc2ioI:H,s_2X0diTXbsPE:Q,s_9D5RnVTo09I:K,s_DITJNnWnLlE:Y,s_HWs4E0uYeZo:B,s_QsaeP7UVjnE:z,s_jea8b359OrE:Z,s_nXh8ULguVz0:G,s_oi0FeO0wKsA:F},Symbol.toStringTag,{value:"Module"}));export{k as _hW,H as s_1ws2gcc2ioI,Q as s_2X0diTXbsPE,K as s_9D5RnVTo09I,Y as s_DITJNnWnLlE,B as s_HWs4E0uYeZo,z as s_QsaeP7UVjnE,Z as s_jea8b359OrE,G as s_nXh8ULguVz0,F as s_oi0FeO0wKsA};
