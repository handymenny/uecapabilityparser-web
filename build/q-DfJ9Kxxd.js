import{l as w,c as W,q as E,B as Z,r as C,L as Q,N as ee,J as re,d as O,k as A,i as y,j as te,K as ae,_hW as P}from"./q-BBXjioMF.js";import{_ as x}from"./q-CP35H2v1.js";import{p as ne}from"./q-Cl_Z7Xx3.js";const se=e=>{const[u,s,_]=w(),d=e.scrollingElement;if(d==null)return!1;const i={scrollHeigth:d.scrollHeight,clientHeigth:d.clientHeight,clientWidth:d.clientWidth};return i==_.value?!1:(d.clientHeight+d.scrollTop)/d.scrollHeight>.85&&u.value<s.data.length?(_.value=i,u.value=Math.min(s.data.length,u.value+60),!0):!1},le=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_BBjAj0b80xY:se},Symbol.toStringTag,{value:"Module"})),ue=W(E(()=>x(()=>import("./q-b69Qh-4Z.js"),[]),"s_TqsP02xA87c")),B=W(E(()=>x(()=>import("./q-C1uKBeNy.js").then(e=>e.c),[]),"s_0sxvg6KsuAM")),ce=W(E(()=>x(()=>import("./q-C5nmLxtA.js").then(e=>e.a),[]),"s_2AXMoH1V6Yw")),Ee=e=>{var m;Z();const u=h=>`${h.indexLineIds!=null?"/view/multi/":"/view/"}?id=${h.id}`,s=C(e.data),_=C(Math.min(e.data.length,60)),d=C(),i=E(()=>x(()=>Promise.resolve().then(()=>le),void 0),"s_BBjAj0b80xY",[_,e,d]);return Q("scroll",E(()=>x(()=>Promise.resolve().then(()=>ie),void 0),"s_G0EsNJzVsFA",[i])),ee(E(()=>x(()=>Promise.resolve().then(()=>Se),void 0),"s_001hMYRL094",[i])),re("resize",E(()=>x(()=>Promise.resolve().then(()=>ve),void 0),"s_JMryJ4EnQrU",[i])),O("div",null,{class:"mx-auto w-full max-w-7xl"},[O("div",null,{class:"flex flex-wrap-reverse gap-x-4 sm:flex-nowrap"},[e.advancedSearchMode==!0||O("div",null,{class:"w-full sm:w-auto"},A(ue,{href:"/library/advancedsearch/",label:"Advanced Search",[y]:{href:y,label:y}},3,"TI_0"),1,"TI_1"),A(ce,{placeholder:"Search logs",hidden:!1,disabled:!1,get fuzzy(){return{id:e.searchId,keys:["description","timestamp"],data:e.data}},onKeyUp$:E(()=>x(()=>Promise.resolve().then(()=>ye),void 0),"s_0q8WcCg7o84",[s,e]),[y]:{placeholder:y,hidden:y,disabled:y,fuzzy:te(h=>({id:h.searchId,keys:["description","timestamp"],data:h.data}),[e]),onKeyUp$:y}},3,"TI_2")],1,null),O("div",null,{class:"grid grid-cols-2 gap-x-5 gap-y-3 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},[e.advancedSearchMode==!0||A(B,{label:"Add New",url:"/parser",Icon:ne,inverted:!0,[y]:{label:y,url:y,Icon:y,inverted:y}},3,"TI_3"),(m=s.value.slice(0,_.value))==null?void 0:m.map(h=>A(B,{get multilineLabel(){return h.description},label:new Date(h.timestamp).toLocaleString().replace(", "," "),url:u(h),[y]:{multilineLabel:ae(h,"description")}},3,h.id))],1,null)],1,"TI_4")},oe=e=>{const[u]=w(),s=e.target;u(s)},ie=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_G0EsNJzVsFA:oe},Symbol.toStringTag,{value:"Module"})),H=e=>new Promise(u=>{setTimeout(u,e)}),fe=async()=>{const[e]=w();for(;await e(document);)await H(200)},ve=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_JMryJ4EnQrU:fe},Symbol.toStringTag,{value:"Module"}));function _e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var J={},k={};(function(e){e.__esModule=!0,e.default=d;var u=/[\u0300-\u036f]/g,s=/ł/g,_=/ñ/g;function d(i){return i.toLowerCase().normalize("NFD").replace(u,"").replace(s,"l").replace(_,"n").trim()}})(k);var z={},V;function N(){if(V)return z;V=1,z.__esModule=!0,z.aggressiveFuzzyMatch=j,z.createFuzzySearchImpl=G,z.experimentalSmartFuzzyMatch=D,z.fuzzyMatchImpl=U;var e=u(k);function u(t){return t&&t.__esModule?t:{default:t}}var s=Number.MAX_SAFE_INTEGER,_=function(r,o){return r.score-o.score},d=function(r,o){return r[0]-o[0]},i=new Set(`  []()-–—'"“”`.split(""));function m(t){return i.has(t)}function h(t,r,o,g,a,f,l){if(t===g)return[0,[[0,t.length-1]]];var n=g.length,c=r.length,v=a.length;if(r===a)return[.1,[[0,c-1]]];if(r.startsWith(a))return[.5,[[0,v-1]]];var S=t.indexOf(g);if(S>-1&&m(t[S-1]))return[.9,[[S,S+n-1]]];var p=r.indexOf(a);if(p>-1&&m(r[p-1]))return[1,[[p,p+n-1]]];var b=f.length;if(b>1&&f.every(function(M){return o.has(M)})){var T=1.5+b*.2;return[T,f.map(function(M){var L=r.indexOf(M);return[L,L+M.length-1]}).sort(d)]}return p>-1?[2,[[p,p+n-1]]]:l==="aggressive"?j(r,a):l==="smart"?D(r,a):null}function j(t,r){for(var o=t.length,g=r.length,a=0,f=r[a],l=[],n=-1,c=-2,v=0;v<o;v+=1)if(t[v]===f){if(v!==c+1&&(n>=0&&l.push([n,c]),n=v),c=v,a+=1,a===g)return l.push([n,c]),q(l,t);f=r[a]}return null}function D(t,r){for(var o=t.length,g=[],a=0,f=r[a],l=-1,n=-2;;){var c=t.indexOf(f,n+1);if(c===-1)break;if(c===0||m(t[c-1]))l=c;else{var v=r.length-a,S=t.length-c,p=Math.min(3,v,S),b=r.slice(a,a+p);if(t.slice(c,c+p)===b)l=c;else{n+=1;continue}}for(n=l;n<o&&t[n]===f;n+=1)a+=1,f=r[a];if(n-=1,g.push([l,n]),a===r.length)return q(g,t)}return null}function q(t,r){var o=2;return t.forEach(function(g){var a=g[0],f=g[1],l=f-a+1,n=a===0||r[a]===" "||r[a-1]===" ",c=f===r.length-1||r[f]===" "||r[f+1]===" ",v=n&&c;v?o+=.2:n?o+=.4:l>=3?o+=.8:o+=1.6}),[o,t]}function U(t,r){var o=(0,e.default)(r),g=o.split(" "),a=(0,e.default)(t),f=new Set(a.split(" ")),l=h(t,a,f,r,o,g,"smart");return l?{item:t,score:l[0],matches:[l[1]]}:null}function G(t,r){var o=r.strategy,g=o===void 0?"aggressive":o,a=r.getText,f=t.map(function(l){var n;if(a)n=a(l);else{var c=r.key?l[r.key]:l;n=[c]}var v=n.map(function(S){var p=S||"",b=(0,e.default)(p),T=new Set(b.split(" "));return[p,b,T]});return[l,v]});return function(l){var n=[],c=(0,e.default)(l),v=c.split(" ");return c.length?(f.forEach(function(S){for(var p=S[0],b=S[1],T=s,M=[],L=0,Y=b.length;L<Y;L+=1){var F=b[L],K=F[0],X=F[1],$=F[2],R=h(K,X,$,l,c,v,g);R?(T=Math.min(T,R[0]),M.push(R[1])):M.push(null)}T<s&&n.push({item:p,score:T,matches:M})}),n.sort(_),n):[]}}return z}(function(e){e.__esModule=!0,e.default=_,e.fuzzyMatch=d;var u=s(k);e.normalizeText=u.default;function s(i){return i&&i.__esModule?i:{default:i}}function _(i,m){return m===void 0&&(m={}),N().createFuzzySearchImpl(i,m)}function d(i,m){return N().fuzzyMatchImpl(i,m)}})(J);const de=_e(J),I={},he=(e,u)=>u.map(s=>s!="timestamp"?e[s]:new Date(e.timestamp).toLocaleString().replace(", "," ")),xe=(e,u,s)=>{I[e]=de(s,{getText:_=>he(_,u)})},ge=(e,u)=>{var s;return((s=I[e])==null?void 0:s.call(I,u).map(_=>_.item))??[]},pe=async e=>{const[u,s]=w();e.trim().length==0?u.value=s.data:u.value=ge(s.searchId,e)??s.data},ye=Object.freeze(Object.defineProperty({__proto__:null,s_0q8WcCg7o84:pe},Symbol.toStringTag,{value:"Module"})),me=async()=>{const[e]=w();for(localStorage.setItem("disable_advanced_search","henrik-custom-js-1");await e(document);)await H(200)},Se=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_001hMYRL094:me},Symbol.toStringTag,{value:"Module"}));export{P as _hW,oe as a,fe as b,pe as c,me as d,xe as i,Ee as s,se as s_BBjAj0b80xY};
